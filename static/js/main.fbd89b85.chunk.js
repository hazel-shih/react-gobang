(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(n,e,t){},8:function(n,e,t){"use strict";t.r(e);var c=t(7),r=t(3),a=t(1),l=t(6),i=t.n(l),s=(t(13),t(0)),u=Object(a.createContext)();function o(n){var e=n.x,t=n.y,c=n.children,r=Object(a.useContext)(u),l=r.handleClick,i=r.winner;return Object(s.jsx)("button",{x:e,y:t,onClick:function(){i||l(e,t)},className:"square",children:c?"\u9ed1"===c?"\ud83c\udf1a":"\ud83c\udf1d":null})}function j(n){var e=n.board;return Object(s.jsx)(s.Fragment,{children:e.map((function(n,e){return Object(s.jsxs)("div",{children:[n.map((function(n,t){return Object(s.jsx)(o,{x:t,y:e,children:n},t)})),Object(s.jsx)("br",{})]},e)}))})}function b(n){var e=n.thisTurnIsBlack,t=n.winner;return Object(s.jsx)("div",{className:"status",children:t?"\u904a\u6232\u7d50\u675f\u5695 \ud83c\udfc1":e?"\u63db\u9ed1\u68cb\u4e0b \ud83c\udff4\ufe0f":"\u63db\u767d\u68cb\u4e0b \ud83c\udff3\ufe0f"})}var d=[0,0,0,0],f=[1,2,3,4],O=[-1,-2,-3,-4];function h(n,e,t){return n<=e&&n>=t}function x(n,e,t,c,r,a){for(var l=0,i=0;i<4;i++){var s=e+r[i],u=t+a[i];if(h(s,18,0)&&h(u,18,0)){if(n[u][s]!==c)break;l++}}return l}function v(){var n=Object(a.useState)(Array(19).fill(Array(19).fill(null))),e=Object(r.a)(n,2),t=e[0],l=e[1],i=Object(a.useState)(!0),o=Object(r.a)(i,2),h=o[0],v=o[1],m=Object(a.useState)([]),y=Object(r.a)(m,2),p=y[0],k=y[1],g=Object(a.useState)(null),C=Object(r.a)(g,2),w=C[0],N=C[1],A=Object(a.useCallback)((function(n,e){if(0!==n.length){var t=n[n.length-1].color,c=n[n.length-1].x,r=n[n.length-1].y,a=null;[x(e,c,r,t,f,f),x(e,c,r,t,f,d),x(e,c,r,t,f,O),x(e,c,r,t,d,f),x(e,c,r,t,d,O),x(e,c,r,t,O,f),x(e,c,r,t,O,d),x(e,c,r,t,O,O)].find((function(n){return 4===n}))&&(a=t),a&&N(a)}}),[]);var B=Object(a.useCallback)((function(){l(Array(19).fill(Array(19).fill(null))),v(!0),k([]),N(null)}),[]);return Object(s.jsxs)("div",{className:"game",children:[Object(s.jsxs)("div",{className:"game-board",children:[Object(s.jsx)(b,{thisTurnIsBlack:h,winner:w}),Object(s.jsx)(u.Provider,{value:{handleClick:function(n,e){l(t.map((function(t,c){return c!==e?t:t.map((function(e,t){return t!==n?e:h?"\u9ed1":"\u767d"}))})));var r=[].concat(Object(c.a)(p),[{color:h?"\u9ed1":"\u767d",x:n,y:e}]);k(r),A(r,t),!w&&v((function(n){return!n}))},thisTurnIsBlack:h,winner:w},children:Object(s.jsx)(j,{board:t})})]}),Object(s.jsxs)("div",{className:"game-info",children:[Object(s.jsx)("ol",{children:p.map((function(n,e){return Object(s.jsx)("li",{children:"".concat(n.color,"(").concat(n.x,", ").concat(n.y,")")},e)}))}),Object(s.jsx)("div",{style:{color:"red",fontWeight:"bold"},children:w&&"\u606d\u559c ".concat(w," \u7372\u52dd \ud83c\udf89\ud83c\udf89\ud83c\udf89")}),Object(s.jsx)("button",{onClick:B,style:w?{}:{display:"none"},children:"\u518d\u73a9\u4e00\u6b21"})]})]})}i.a.render(Object(s.jsx)(v,{}),document.getElementById("root"))}},[[8,1,2]]]);
//# sourceMappingURL=main.fbd89b85.chunk.js.map